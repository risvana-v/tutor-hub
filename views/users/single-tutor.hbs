<style>
    label {
        font-size: 13px;
        margin-bottom: 10px;
    }

    .header {
        --background-color: black !important;
        --default-color: #ffffff;
        --heading-color: #ffffff;
        color: var(--default-color);
        background-color: var(--background-color);
        padding: 20px 0;
        transition: all 0.5s;
        z-index: 997;
    }
</style>

<!-- Login Wrapper Area -->
<div class="login-wrapper d-flex mt-5 align-items-center justify-content-center">
    <div class="container-lg">
        <div class="text-center px-4"><img class="login-intro-img" src="assets/img/bg-img/36.png" alt=""></div>
        <br><br><br>
        <!-- Register Form -->

        <div class="d-flex justify-content-between">
            <a href="/" class="btn btn-sm btn-dark">
                <i class="bi bi-arrow-left-short "></i> Back</a>

        </div>

        <div class="row">
            <div class="col-lg-6">
                <div class="card shadow p-4 mt-3">

                    <div class="register-form mt-4">
                        <h4 class="mb-4 text-left">Tutor {{tutor.Tutorname}}</h4>
                        <form action="#!" method="">
                            <div class="row g-1">
                                <div class="col-lg-12">
                                    <div class="form-group">
                                        <label> Name</label>
                                        <input class="form-control" type="text" name="Fname" value={{tutor.Tutorname}}
                                            readonly>
                                    </div>
                                </div>

                            </div>
                            <div class="form-group">
                                <label>Email</label>

                                <input class="form-control" type="email" name="Email" value={{tutor.Email}} readonly>
                            </div>
                            <div class="form-group">
                                <label>Phone Number</label>

                                <input class="form-control" type="number" name="Phone" value={{tutor.Phone}} readonly>
                            </div>

                            <div class="form-group">
                                <label>Address</label>
                                <textarea class="form-control" name="Address" readonly>{{tutor.Address}} </textarea>
                            </div>
                            <div class="row g-1">
                                <div class="col-lg-7">
                                    <div class="form-group">
                                        <label>City</label>

                                        <input class="form-control" type="text" name="City" value={{tutor.City}}
                                            readonly>
                                    </div>
                                </div>
                                <div class="col-lg-5">
                                    <div class="form-group">
                                        <label>Pincode</label>

                                        <input class="form-control" type="number" name="Pincode" value={{tutor.Pincode}}
                                            readonly>
                                    </div>
                                </div>
                            </div>

                        </form>
                    </div>

                </div>
            </div>

            <div class="col-lg-6">
                <div class="card shadow p-4 mt-3">
                    <img src="/images/profile-images/{{tutor._id}}.png" width="100px" alt="">
                    <h5 class="mt-3 mb-2">Qualifications</h5>
                    <div class="form-group">

                        <label>1st Qualification</label>
                        <textarea class="form-control" type="text"
                            name="qualification1"> {{tutor.qualification1}}</textarea>
                        <br>
                        <label>2nd Qualification</label>
                        <textarea class="form-control" type="text"
                            name="qualification2"> {{tutor.qualification2}}</textarea><br>
                        <label>3rd Qualification</label>
                        <textarea class="form-control" type="text"
                            name="qualification3"> {{tutor.qualification3}}</textarea>
                    </div>
                </div>
            </div>

        </div>
        <br><br><br>
        <h5>All Courses</h5>
        <div class="row g-3 ">
            <!-- Single Top Product Card -->
            {{#if user}}
            {{#each products}}
            <div class="col-6 col-sm-4 col-lg-4">
                {{!-- <a href="/single-product/{{this._id}}"> --}}
                    <a href="/single-product/{{this._id}}">

                        <div class="card single-product-card">
                            <div class="card-body p-3">
                                <!-- Product Thumbnail --><a class="product-thumbnail d-block" href="#!"><img
                                        src="/images/subject-images/{{this._id}}.png" alt="">
                                    <!-- Badge --></a>
                                <!-- Product Title -->
                                <h4 class="product-title d-block text-truncate" href="#!">{{this.name}}</h4>
                                <!-- Product Price -->
                                <p class="sale-price">Rs.{{this.Price}} </p>
                                <hr>
                                <p>Class For : {{this.class}}</p>

                                <p>Provided By : {{this.tutorname}}</p>
                                {{!-- <button id="add-to-cart-{{this._id}}" onclick="addToCart('{{this._id}}')"
                                    class="btn btn-sm btn-dark">Buy Now</button>
                                --}}
                                <button class="btn btn-creative btn-dark btn-sm ct-btn buy-now"
                                    data-id="{{this._id}}">Buy Now</button>
                                {{!--
                                <button id="add-to-cart-{{this._id}}" onclick="addToCart('{{this._id}}')"
                                    class="btn btn-sm btn-dark">Buy Now</button> --}}
                                <a href="/single-product/{{this._id}}"
                                    class="ct-btn btn btn2 btn-sm btn-outline-dark d-none d-md-inline-block">View
                                    Details</a>
                                {{!-- <button class="btn  btn-dark  btn-sm ct-btn" onclick="buyNow('{{this._id}}')">Buy
                                    Now</button> --}}

                            </div>
                        </div>
                    </a>
            </div>
            {{/each}}

            {{else}}
            {{#each products}}
            <div class="col-6 col-sm-4 col-lg-4">
                {{!-- <a href="/single-product/{{this._id}}"> --}}
                    <a href="/single-product/{{this._id}}">

                        <div class="card single-product-card">
                            <div class="card-body p-3">
                                <!-- Product Thumbnail --><a class="product-thumbnail d-block" href="#!"><img
                                        src="/images/subject-images/{{this._id}}.png" alt="">
                                    <!-- Badge --></a>
                                <!-- Product Title -->
                                <h4 class="product-title d-block text-truncate" href="#!">{{this.name}}</h4>
                                <!-- Product Price -->
                                <p class="sale-price">Rs.{{this.Price}} </p>
                                <hr>
                                <p>Class For : {{this.class}}</p>
                                <p>Provided By : {{this.tutorname}}</p>
                                <a href="/signin" class="btn btn-sm btn-dark">Book now</a>
                                <a href="/single-product/{{this._id}}"
                                    class="ct-btn btn btn2 btn-sm btn-outline-dark d-none d-md-inline-block">View
                                    Details</a>
                                {{!-- <a href="/single-product/{{this._id}}"
                                    class="ct-btn btn btn2 btn-sm btn-outline-dark d-none d-md-inline-block">View
                                    Details</a>
                                <button class="btn  btn-dark  btn-sm ct-btn" onclick="buyNow('{{this._id}}')">Buy
                                    Now</button> --}}

                            </div>
                        </div>
                    </a>
            </div>
            {{/each}}
            {{/if}}


        </div>

    </div>


</div>
</div>

<br><br>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const buyNowButtons = document.querySelectorAll('.buy-now');

        buyNowButtons.forEach(button => {
            const seatsAvailable = parseInt(button.getAttribute('data-seats'), 10);

            if (seatsAvailable === 0) {
                button.disabled = true; // Disable the button if sold out
                button.textContent = 'Sold Out'; // Change the button text
                button.classList.add('disabled'); // Optionally add a disabled class for styling
            } else {
                button.addEventListener('click', function () {
                    buyNow(button.getAttribute('data-id')); // Call the buyNow function
                });
            }
        });
    });

    function buyNow(productId) {
        // Your buy now logic here, for example:
        alert('Buying product with ID: ' + productId);
        // Implement your purchase logic (e.g., make an API call)
    }
</script>


<script>
    function buyNow(productId) {
        window.location.href = '/place-order/' + productId;
    }

</script>
</div>
</section>