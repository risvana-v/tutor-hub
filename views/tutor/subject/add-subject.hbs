<style>
    .page-container {
        margin-top: 140px;
    }

    .form-group {
        margin-bottom: 20px;
    }
</style>

<div class="page-container">
    <div class="container-md">
        <h4 class="mt-3 mb-3">Add Your Subject</h4>
        <form action="/tutor/add-subject" enctype="multipart/form-data" method="POST">
            <input type="hidden" name="date" id="datetime">


            <input type="hidden" value={{tutor.Tutorname}} name="tutorname">
            <input type="hidden" value={{tutor.Phone}} name="tutorphone">
            <input type="hidden" value={{tutor.Email}} name="tutoremail">
            <input type="hidden" value={{tutor.City}} name="tutorcity">

            <div class="row">
                <div class="col-lg-6">
                    <div class="card">
                        <div class="card-body">
                            <div class="form-group">
                                <label class="form-label" for="exampleInputText">Subject Name</label>
                                <input class="form-control" id="exampleInputText" name="name" type="text" placeholder=""
                                    required>
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="exampleInputText">Subject Price</label>
                                <input class="form-control" id="exampleInputText" name="Price" type="number"
                                    placeholder="" required>
                            </div>


                            <div class="form-group">
                                <label class="form-label" for="exampleInputText">Desciption</label>
                                <textarea class="form-control" id="exampleInputText" name="desc" type="text"
                                    placeholder="" required></textarea>
                            </div>




                            {{!-- <div class="form-group">
                                <label class="form-label" for="inputDate">Date picker</label>
                                <input class="form-control" id="inputDate" type="date">
                            </div> --}}

                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="card">
                        <div class="card-body">
                            <div class="form-group">
                                <label class="form-label" for="exampleInputText">Subject Image</label>
                                <input class="form-control" id="exampleInputText" name="Image" accept="image/*"
                                    type="file" required>
                            </div>
                            <hr>
                            <h5 class="mb-3">Videos</h5>
                            <div id="fields-container" class="mt-2">
                                <!-- Initial fields -->
                                <div class="row mb-3 align-items-center">
                                    <div class="col">
                                        <input type="text" class="form-control" placeholder="Video Name" name="name[]">
                                    </div>
                                    <div class="col">
                                        <input type="text" class="form-control" placeholder="Video Link" name="link[]">
                                    </div>
                                    <div class="col-auto">
                                        <button type="button" class="btn btn-success" onclick="addFields()">+</button>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>

            </div>
            <button type="submit" class="btn btn-dark mt-4">Add Subject</button>
        </form>

    </div>
</div>

<script>
    // Get current date and time
    const now = new Date();
    const year = now.getFullYear();
    const month = (now.getMonth() + 1).toString().padStart(2, '0');
    const day = now.getDate().toString().padStart(2, '0');
    const hours = ((now.getHours() + 11) % 12 + 1).toString().padStart(2, '0'); // Convert to 12-hour format
    const minutes = now.getMinutes().toString().padStart(2, '0');
    const ampm = now.getHours() >= 12 ? 'PM' : 'AM';

    // Set default value to current date and time in 12-hour format with AM/PM
    const defaultDateTime = `${year}-${month}-${day}T${hours}:${minutes}`;
    document.getElementById('datetime').value = defaultDateTime;
</script>

<script>
    function addFields() {
        const container = document.getElementById("fields-container");

        // Create a new row for the fields
        const newRow = document.createElement("div");
        newRow.className = "row mb-3 align-items-center";

        // Name field
        const nameCol = document.createElement("div");
        nameCol.className = "col";
        const nameInput = document.createElement("input");
        nameInput.type = "text";
        nameInput.className = "form-control";
        nameInput.placeholder = "Video Name";
        nameInput.name = "name[]";
        nameCol.appendChild(nameInput);

        // Link field
        const linkCol = document.createElement("div");
        linkCol.className = "col";
        const linkInput = document.createElement("input");
        linkInput.type = "text";
        linkInput.className = "form-control";
        linkInput.placeholder = "Video Link";
        linkInput.name = "link[]";
        linkCol.appendChild(linkInput);

        // Add delete button
        const btnCol = document.createElement("div");
        btnCol.className = "col-auto";
        const deleteButton = document.createElement("button");
        deleteButton.type = "button";
        deleteButton.className = "btn btn-danger";
        deleteButton.textContent = "-";
        deleteButton.onclick = function () {
            container.removeChild(newRow);
        };
        btnCol.appendChild(deleteButton);

        // Append columns to the new row
        newRow.appendChild(nameCol);
        newRow.appendChild(linkCol);
        newRow.appendChild(btnCol);

        // Append the new row to the container
        container.appendChild(newRow);
    }

</script>